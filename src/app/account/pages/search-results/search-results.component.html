<app-top-nav/>

<div *ngIf="dbWaiting()">
    <h1>Waiting for database</h1>
</div>

<div *ngIf="dbSuccess()">
    <h1>Search results</h1>

    <ul>
        <li *ngIf="hasFromFilter()">{{fromFilterDescription()}}</li>
        <li *ngIf="hasToFilter()">{{toFilterDescription()}}</li>
        <li *ngIf="hasStatusFilter()">{{statusFilterDescription()}}</li>
        <li *ngIf="hasDateFilter()">{{dateFilterDescription()}}</li>
        <li *ngIf="hasNoteFiler()">{{noteFilterDescription()}}</li>
    </ul>

    <p>{{transactions.length}} Matching transactions found</p>
    <app-transaction-table 
        [transactions]="transactions" 
        [accounts]="accounts" 
        [fromDate]="fromDate" 
        [toDate]="toDate" 
        [showFrom]="true" 
        [showTo]="true" 
        [showStatus]="true"/>
    
    <p><button (click)="reloadSearchParameters()">Reload Search Parameters</button></p>
</div>

<div *ngIf="dbFailure()">
    <h1>Database failure</h1>
</div>
